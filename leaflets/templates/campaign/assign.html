{% extends "../map.html" %}

{% block body %}
    <h1>{{ campaign.name }}</h1>
    {% raw render_user(current_user_object(), radio=True) %}
    <input type="hidden" name="campaign_id" value="{{ campaign.id }}"/>
    {% module xsrf_form_html() %}
{% end %}

{% block legend %}
    <div class="legend">
        <div class="legend-item"><span class="legend-colour unmarked"></span>{{ _('unassigned_address') }}</div>
        <div class="legend-item"><span class="legend-colour marked"></span>{{ _('assigned_selected_user') }}</div>
        <div class="legend-item"><span class="legend-colour other-user"></span>{{ _('assigned_other_user') }}</div>
        <div class="legend-item"><span class="legend-colour child"></span>{{ _('assigned_child_user') }}</div>
        <div class="legend-item"><span class="legend-colour parent"></span>{{ _('assigned_parent_user') }}</div>
        <div class="legend-item"><span class="legend-colour pending"></span>{{ _('pending') }}</div>
    </div>
{% end %}

{% block map-options %}
    data-marker="UserAssignMarker"
    data-address-handler="UserAssignSelector"
    data-clustering-zoom="5"
{% end %}}

{% block scripts %}
<script src="//cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/leaflet.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/leaflet-providers/1.1.7/leaflet-providers.min.js"></script>
<script src="{{ static_url('js/locationfilter.js') }}"></script>
<script src="{{ static_url('js/leaflet.markercluster-src.js') }}"></script>

<script src="{{ static_url('js/map.js') }}"></script>
<script src="{{ static_url('js/markers.js') }}"></script>
<script src="{{ static_url('js/markerHandlers.js') }}"></script>
<script src="{{ static_url('js/setup.js') }}"></script>
<script src="{{ static_url('js/user.js') }}"></script>
{% end %}
